<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title> <%= title %> page</title>
    <link rel="stylesheet" href="styles/form.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  </head>

  <body>
    <% if (typeof error !== 'undefined') { %>
      <p class="errorMessage" id="errorMessage"> Error <%= error %>   </p>
    <% } %>

    <div class="formWrapper">
      <h1> <%= title %> </h1>
      <% if (alternateRoute==='login') { %>
        <form action="/users/signup" method="post">
      <% } else { %>
        <form action="/users/login" method="post">
       <% } %>

       <% if (type==='signup' ) { %>
        <input
          type="text"
          name="name"
          id="name"
          placeholder="Full name"
          required
        />
        <% } %>

        <input
          type="email"
          name="email"
          id="email"
          required
          placeholder="Email"
        />
        <input
          type="password"
          name="password"
          id="password"
          placeholder="Password"
          required
          min="6"
        />
        <% if (type==='signup' ) { %>
        <input
          type="password"
          name="confirm"
          id="confirm"
          placeholder="Confirm Password"
          required
          min="6"
        />
        <% } %>
        <button type="submit">Submit</button>

        <% if (type==='signup' ) { %>
        <p class="extra"><a href="<%= alternateRoute %>" >Login Here</a></p>
        <% } else { %>
        <p class="extra"><a href="<%= alternateRoute %>">Create an account</a></p>
        <% } %>
      </form>
    </div>
  </body>

  <script>
    const isError = document.getElementById('errorMessage')
    if(isError){
          setTimeout(()=>{
            isError.style.display = 'none';
          },2000)
        }
  </script>
</html>
